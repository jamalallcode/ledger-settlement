/* TABLE STICKY HEADER & FOOTER LOGIC */

/* General Sticky Header - Sticks to the very top (0px) */
.table-container thead th {
  position: -webkit-sticky !important;
  position: sticky !important;
  top: 0 !important;
  background-color: #ffffff !important;
  z-index: 210 !important; /* Above Navbar (z-200) */
  background-clip: padding-box !important;
  box-shadow: inset 0 -1px 0 #cbd5e1, inset -1px 0 0 #cbd5e1 !important
}

/* Multi-row header offset logic - Using precise heights to prevent gaps */
.table-container thead tr:nth-child(1) th {
  top: 0 !important;
  z-index: 220 !important;
}

.table-container thead tr:nth-child(2) th {
  top: 42px !important; /* Fixed: Matches h-[42px] of the first row */
  z-index: 215 !important;
}

.table-container thead tr:nth-child(3) th {
  top: 80px !important; /* Fixed: 42px + 38px to match row heights precisely */
  z-index: 210 !important;
}

/* Sticky Footer (General) */
.table-container tfoot td, 
.table-container tfoot th {
  position: -webkit-sticky !important;
  position: sticky !important;
  bottom: 0 !important;
  z-index: 230 !important;
  background-color: #0f172a !important;
  color: white !important;
  box-shadow: inset 0 1px 0 #334155, inset -1px 0 0 #334155 !important;
}

/* --- MULTI-TABLE VIEW SPECIFIC OVERRIDES --- */

/* 
   CRITICAL FIX: 
   If a container has the '.multi-table-view' class (like Special View), 
   the FIRST table must NEVER stick. 
   We aggressively reset position and offsets for all its child elements.
*/

.multi-table-view .table-container:first-of-type,
.multi-table-view .table-container:first-of-type thead,
.multi-table-view .table-container:first-of-type thead tr,
.multi-table-view .table-container:first-of-type thead th,
.multi-table-view .table-container:first-of-type tfoot,
.multi-table-view .table-container:first-of-type tfoot tr,
.multi-table-view .table-container:first-of-type tfoot td,
.multi-table-view div:first-child .table-container thead th,
.multi-table-view div:first-child .table-container tfoot td,
.multi-table-view div:first-of-type .table-container thead th,
.multi-table-view div:first-of-type .table-container tfoot td {
  position: static !important;
  top: auto !important;
  bottom: auto !important;
  z-index: 1 !important;
  box-shadow: none !important;
  transform: none !important;
  -webkit-transform: none !important;
}

/* Ensure the LAST table (the detailed list) still sticks correctly in multi-view */
.multi-table-view .table-container:last-of-type thead th {
  position: -webkit-sticky !important;
  position: sticky !important;
  top: 0 !important;
  z-index: 210 !important;
}

@media print {
  .table-container thead th, 
  .table-container tfoot td { 
    position: static !important; 
  }
}
